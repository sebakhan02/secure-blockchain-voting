<app-header></app-header>
<section class="relative w-full h-screen bg-cover bg-center bg-[#10497E] ">
    <div class="w-full h-full bg-[#10497E] py-6 flex items-center justify-center px-4">
      
      <div class="max-w-md w-full bg-white/20 backdrop-blur-md rounded-2xl p-6 sm:p-10 shadow-xl text-center text-[#10497E]">
        
        <div class="flex justify-center mb-2">
          <img src="assets/iaaherologo.png" alt="Logo" class="h-13 " />
        </div>
  
        <h2 class="text-2xl font-bold text-white mb-6">Sign Up</h2>
  
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="space-y-4 text-left" autocomplete="off">

          <!-- Full Name -->
          <input formControlName="fullName" type="text" placeholder="Full Name"
            class="w-full px-4 py-2 rounded shadow text-[#10497E] placeholder-[#10497E] bg-white focus:outline-none focus:ring-2 focus:ring-[#10497E]" />
          <div *ngIf="signupForm.get('fullName')?.invalid && signupForm.get('fullName')?.touched" class="text-red-500 text-sm">
            Full Name is required (min 2 characters).
          </div>
        
          <!-- Email -->
          <input formControlName="email" type="email" placeholder="Email"
            class="w-full px-4 py-2 rounded shadow text-[#10497E] placeholder-[#10497E] bg-white focus:outline-none focus:ring-2 focus:ring-[#10497E]" />
          <div *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched" class="text-red-500 text-sm">
            Please enter a valid email.
          </div>
        
          <!-- Registration Number -->
          <input formControlName="regNumber" type="text" placeholder="BCSE-00-0000-0000"
            class="w-full px-4 py-2 rounded shadow text-[#10497E] placeholder-[#10497E] bg-white focus:outline-none focus:ring-2 focus:ring-[#10497E]" />
          <div *ngIf="signupForm.get('regNumber')?.errors?.['pattern'] && signupForm.get('regNumber')?.touched" class="text-red-500 text-sm">
            Format: BCSE-CC-XXXX-YYYY (e.g., BCSE-01-0054-2022).
          </div>
        
          <!-- Course -->
          <input formControlName="course" type="text" placeholder="Course"
            class="w-full px-4 py-2 rounded shadow text-[#10497E] placeholder-[#10497E] bg-white focus:outline-none focus:ring-2 focus:ring-[#10497E]" />
          <div *ngIf="signupForm.get('course')?.invalid && signupForm.get('course')?.touched" class="text-red-500 text-sm">
            Course is required (max 7 characters).
          </div>
        
          <!-- Password -->
          <input formControlName="password" type="password" placeholder="Password" autocomplete="new-password"
            class="w-full px-4 py-2 rounded shadow text-[#10497E] placeholder-[#10497E] bg-white focus:outline-none focus:ring-2 focus:ring-[#10497E]" />
          <div *ngIf="signupForm.get('password')?.errors?.['pattern'] && signupForm.get('password')?.touched" class="text-red-500 text-sm">
            Min 8 chars, with at least 1 uppercase, 1 lowercase, and 1 number.
          </div>
        
          <!-- Confirm Password -->
          <input formControlName="confirmPassword" type="password" placeholder="Confirm Password"
            class="w-full px-4 py-2 rounded shadow text-[#10497E] placeholder-[#10497E] bg-white focus:outline-none focus:ring-2 focus:ring-[#10497E]" />
          <div *ngIf="signupForm.errors?.['passwordMismatch'] && signupForm.get('confirmPassword')?.touched" class="text-red-500 text-sm">
            Passwords do not match.
          </div>
        
          <!-- Submit Button -->
           <button 
            type="submit"
            [disabled]="signupForm.invalid || loading"
            [ngClass]="{
            'bg-[#10497E] hover:bg-[#A41E22] cursor-pointer': !signupForm.invalid && !loading,
            'bg-gray-400 cursor-not-allowed opacity-70': signupForm.invalid || loading
           }"
           class="w-full text-white font-semibold py-2 rounded transition duration-300 flex items-center justify-center gap-2"
          >
              <span *ngIf="!loading">Register</span>
              <span *ngIf="loading" class="animate-spin border-2 border-white border-t-transparent rounded-full w-5 h-5"></span>
          </button>
        
         
        </form>
        
  
        <p class="mt-4 text-white">
          Already have an account?
          <a (click)="goToSignin()" class="underline text-[#A41E22] hover:text-[#10497E] font-semibold cursor-pointer">Sign In</a>
        </p>
  
      </div>
    </div>
    <footer class="text-white text-center py-3 text-sm bg-[#10497E]/80 backdrop-blur-sm">
        &copy; 2025 Secure Blockchain Voting. All Rights Reserved.
    </footer>
  </section>
  